<pre><tt><font color="#000000">001: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>Color<font color="#990000">;</font>
<font color="#000000">002: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>Dimension<font color="#990000">;</font>
<font color="#000000">003: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>Graphics2D<font color="#990000">;</font>
<font color="#000000">004: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>Shape<font color="#990000">;</font>
<font color="#000000">005: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>Stroke<font color="#990000">;</font>
<font color="#000000">006: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>geom<font color="#990000">.</font>GeneralPath<font color="#990000">;</font>
<font color="#000000">007: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>geom<font color="#990000">.</font>Line2D<font color="#990000">;</font>
<font color="#000000">008: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>geom<font color="#990000">.</font>Point2D<font color="#990000">;</font>
<font color="#000000">009: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>awt<font color="#990000">.</font>geom<font color="#990000">.</font>Rectangle2D<font color="#990000">;</font>
<font color="#000000">010: </font><b><font color="#000080">import</font></b> java<font color="#990000">.</font>util<font color="#990000">.</font>ArrayList<font color="#990000">;</font>
<font color="#000000">011: </font>
<font color="#000000">012: </font><b><font color="#000080">import</font></b> javax<font color="#990000">.</font>swing<font color="#990000">.</font>JLabel<font color="#990000">;</font>
<font color="#000000">013: </font>
<font color="#000000">014: </font><i><font color="#9A1900">/**</font></i>
<font color="#000000">015: </font><i><font color="#9A1900">   An edge that is composed of multiple line segments</font></i>
<font color="#000000">016: </font><i><font color="#9A1900">*/</font></i>
<font color="#000000">017: </font><b><font color="#0000FF">public</font></b> <b><font color="#0000FF">abstract</font></b> <b><font color="#0000FF">class</font></b> SegmentedLineEdge <b><font color="#0000FF">extends</font></b> ShapeEdge
<font color="#000000">018: </font><font color="#FF0000">{</font>
<font color="#000000">019: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">020: </font><i><font color="#9A1900">      Costructs an edge with no adornments.</font></i>
<font color="#000000">021: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">022: </font>   <b><font color="#0000FF">public</font></b> <b><font color="#000000">SegmentedLineEdge</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">023: </font>   <font color="#FF0000">{</font>
<font color="#000000">024: </font>      lineStyle <font color="#990000">=</font> LineStyle<font color="#990000">.</font>SOLID<font color="#990000">;</font>
<font color="#000000">025: </font>      startArrowHead <font color="#990000">=</font> ArrowHead<font color="#990000">.</font>NONE<font color="#990000">;</font>
<font color="#000000">026: </font>      endArrowHead <font color="#990000">=</font> ArrowHead<font color="#990000">.</font>NONE<font color="#990000">;</font>
<font color="#000000">027: </font>      startLabel <font color="#990000">=</font> <font color="#FF0000">""</font><font color="#990000">;</font>
<font color="#000000">028: </font>      middleLabel <font color="#990000">=</font> <font color="#FF0000">""</font><font color="#990000">;</font>
<font color="#000000">029: </font>      endLabel <font color="#990000">=</font> <font color="#FF0000">""</font><font color="#990000">;</font>
<font color="#000000">030: </font>   <font color="#FF0000">}</font>
<font color="#000000">031: </font>
<font color="#000000">032: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">033: </font><i><font color="#9A1900">      Sets the line style property.</font></i>
<font color="#000000">034: </font><i><font color="#9A1900">      @param newValue the new value</font></i>
<font color="#000000">035: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">036: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setLineStyle</font></b><font color="#990000">(</font>LineStyle newValue<font color="#990000">)</font> <font color="#FF0000">{</font> lineStyle <font color="#990000">=</font> newValue<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">037: </font>
<font color="#000000">038: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">039: </font><i><font color="#9A1900">      Gets the line style property.</font></i>
<font color="#000000">040: </font><i><font color="#9A1900">      @return the line style</font></i>
<font color="#000000">041: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">042: </font>   <b><font color="#0000FF">public</font></b> LineStyle <b><font color="#000000">getLineStyle</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#FF0000">{</font> <b><font color="#0000FF">return</font></b> lineStyle<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">043: </font>
<font color="#000000">044: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">045: </font><i><font color="#9A1900">      Sets the start arrow head property</font></i>
<font color="#000000">046: </font><i><font color="#9A1900">      @param newValue the new value</font></i>
<font color="#000000">047: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">048: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setStartArrowHead</font></b><font color="#990000">(</font>ArrowHead newValue<font color="#990000">)</font> <font color="#FF0000">{</font> startArrowHead <font color="#990000">=</font> newValue<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">049: </font>
<font color="#000000">050: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">051: </font><i><font color="#9A1900">      Gets the start arrow head property</font></i>
<font color="#000000">052: </font><i><font color="#9A1900">      @return the start arrow head style</font></i>
<font color="#000000">053: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">054: </font>   <b><font color="#0000FF">public</font></b> ArrowHead <b><font color="#000000">getStartArrowHead</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#FF0000">{</font> <b><font color="#0000FF">return</font></b> startArrowHead<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">055: </font>
<font color="#000000">056: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">057: </font><i><font color="#9A1900">      Sets the end arrow head property</font></i>
<font color="#000000">058: </font><i><font color="#9A1900">      @param newValue the new value</font></i>
<font color="#000000">059: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">060: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setEndArrowHead</font></b><font color="#990000">(</font>ArrowHead newValue<font color="#990000">)</font> <font color="#FF0000">{</font> endArrowHead <font color="#990000">=</font> newValue<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">061: </font>
<font color="#000000">062: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">063: </font><i><font color="#9A1900">      Gets the end arrow head property</font></i>
<font color="#000000">064: </font><i><font color="#9A1900">      @return the end arrow head style</font></i>
<font color="#000000">065: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">066: </font>   <b><font color="#0000FF">public</font></b> ArrowHead <b><font color="#000000">getEndArrowHead</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#FF0000">{</font> <b><font color="#0000FF">return</font></b> endArrowHead<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">067: </font>
<font color="#000000">068: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">069: </font><i><font color="#9A1900">      Sets the start label property</font></i>
<font color="#000000">070: </font><i><font color="#9A1900">      @param newValue the new value</font></i>
<font color="#000000">071: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">072: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setStartLabel</font></b><font color="#990000">(</font>String newValue<font color="#990000">)</font> <font color="#FF0000">{</font> startLabel <font color="#990000">=</font> newValue<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">073: </font>
<font color="#000000">074: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">075: </font><i><font color="#9A1900">      Gets the start label property</font></i>
<font color="#000000">076: </font><i><font color="#9A1900">      @return the label at the start of the edge</font></i>
<font color="#000000">077: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">078: </font>   <b><font color="#0000FF">public</font></b> String <b><font color="#000000">getStartLabel</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#FF0000">{</font> <b><font color="#0000FF">return</font></b> startLabel<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">079: </font>
<font color="#000000">080: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">081: </font><i><font color="#9A1900">      Sets the middle label property</font></i>
<font color="#000000">082: </font><i><font color="#9A1900">      @param newValue the new value</font></i>
<font color="#000000">083: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">084: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setMiddleLabel</font></b><font color="#990000">(</font>String newValue<font color="#990000">)</font> <font color="#FF0000">{</font> middleLabel <font color="#990000">=</font> newValue<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">085: </font>
<font color="#000000">086: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">087: </font><i><font color="#9A1900">      Gets the middle label property</font></i>
<font color="#000000">088: </font><i><font color="#9A1900">      @return the label at the middle of the edge</font></i>
<font color="#000000">089: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">090: </font>   <b><font color="#0000FF">public</font></b> String <b><font color="#000000">getMiddleLabel</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#FF0000">{</font> <b><font color="#0000FF">return</font></b> middleLabel<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">091: </font>
<font color="#000000">092: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">093: </font><i><font color="#9A1900">      Sets the end label property</font></i>
<font color="#000000">094: </font><i><font color="#9A1900">      @param newValue the new value</font></i>
<font color="#000000">095: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">096: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">setEndLabel</font></b><font color="#990000">(</font>String newValue<font color="#990000">)</font> <font color="#FF0000">{</font> endLabel <font color="#990000">=</font> newValue<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">097: </font>
<font color="#000000">098: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">099: </font><i><font color="#9A1900">      Gets the end label property</font></i>
<font color="#000000">100: </font><i><font color="#9A1900">      @return the label at the end of the edge</font></i>
<font color="#000000">101: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">102: </font>   <b><font color="#0000FF">public</font></b> String <b><font color="#000000">getEndLabel</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#FF0000">{</font> <b><font color="#0000FF">return</font></b> endLabel<font color="#990000">;</font> <font color="#FF0000">}</font>
<font color="#000000">103: </font>
<font color="#000000">104: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">105: </font><i><font color="#9A1900">      Draws the edge.</font></i>
<font color="#000000">106: </font><i><font color="#9A1900">      @param g2 the graphics context</font></i>
<font color="#000000">107: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">108: </font>   <b><font color="#0000FF">public</font></b> <font color="#009900">void</font> <b><font color="#000000">draw</font></b><font color="#990000">(</font>Graphics2D g2<font color="#990000">)</font>
<font color="#000000">109: </font>   <font color="#FF0000">{</font>
<font color="#000000">110: </font>      ArrayList points <font color="#990000">=</font> <b><font color="#000000">getPoints</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">111: </font>      
<font color="#000000">112: </font>      Stroke oldStroke <font color="#990000">=</font> g2<font color="#990000">.</font><b><font color="#000000">getStroke</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">113: </font>      g2<font color="#990000">.</font><b><font color="#000000">setStroke</font></b><font color="#990000">(</font>lineStyle<font color="#990000">.</font><b><font color="#000000">getStroke</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">114: </font>      g2<font color="#990000">.</font><b><font color="#000000">draw</font></b><font color="#990000">(</font><b><font color="#000000">getSegmentPath</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">115: </font>      g2<font color="#990000">.</font><b><font color="#000000">setStroke</font></b><font color="#990000">(</font>oldStroke<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">116: </font>      startArrowHead<font color="#990000">.</font><b><font color="#000000">draw</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">117: </font>         <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">118: </font>      endArrowHead<font color="#990000">.</font><b><font color="#000000">draw</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">119: </font>         <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">120: </font>
<font color="#000000">121: </font>      <b><font color="#000000">drawString</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">)</font><font color="#990000">,</font> 
<font color="#000000">122: </font>            startArrowHead<font color="#990000">,</font> startLabel<font color="#990000">,</font> <b><font color="#0000FF">false</font></b><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">123: </font>      <b><font color="#000000">drawString</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">124: </font>            <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">125: </font>            <b><font color="#0000FF">null</font></b><font color="#990000">,</font> middleLabel<font color="#990000">,</font> <b><font color="#0000FF">true</font></b><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">126: </font>      <b><font color="#000000">drawString</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">127: </font>            <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font> 
<font color="#000000">128: </font>            endArrowHead<font color="#990000">,</font> endLabel<font color="#990000">,</font> <b><font color="#0000FF">false</font></b><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">129: </font>   <font color="#FF0000">}</font>
<font color="#000000">130: </font>
<font color="#000000">131: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">132: </font><i><font color="#9A1900">      Draws a string.</font></i>
<font color="#000000">133: </font><i><font color="#9A1900">      @param g2 the graphics context</font></i>
<font color="#000000">134: </font><i><font color="#9A1900">      @param p an endpoint of the segment along which to</font></i>
<font color="#000000">135: </font><i><font color="#9A1900">      draw the string</font></i>
<font color="#000000">136: </font><i><font color="#9A1900">      @param q the other endpoint of the segment along which to</font></i>
<font color="#000000">137: </font><i><font color="#9A1900">      draw the string</font></i>
<font color="#000000">138: </font><i><font color="#9A1900">      @param s the string to draw</font></i>
<font color="#000000">139: </font><i><font color="#9A1900">      @param center true if the string should be centered</font></i>
<font color="#000000">140: </font><i><font color="#9A1900">      along the segment</font></i>
<font color="#000000">141: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">142: </font>   <b><font color="#0000FF">private</font></b> <b><font color="#0000FF">static</font></b> <font color="#009900">void</font> <b><font color="#000000">drawString</font></b><font color="#990000">(</font>Graphics2D g2<font color="#990000">,</font> 
<font color="#000000">143: </font>      Point2D p<font color="#990000">,</font> Point2D q<font color="#990000">,</font> ArrowHead arrow<font color="#990000">,</font> String s<font color="#990000">,</font> <font color="#009900">boolean</font> center<font color="#990000">)</font>
<font color="#000000">144: </font>   <font color="#FF0000">{</font>
<font color="#000000">145: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>s <font color="#990000">=</font><font color="#990000">=</font> <b><font color="#0000FF">null</font></b> <font color="#990000">|</font><font color="#990000">|</font> s<font color="#990000">.</font><b><font color="#000000">length</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">=</font><font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">)</font> <b><font color="#0000FF">return</font></b><font color="#990000">;</font>
<font color="#000000">146: </font>      label<font color="#990000">.</font><b><font color="#000000">setText</font></b><font color="#990000">(</font><font color="#FF0000">"&lt;html&gt;"</font> <font color="#990000">+</font> s <font color="#990000">+</font> <font color="#FF0000">"&lt;/html&gt;"</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">147: </font>      label<font color="#990000">.</font><b><font color="#000000">setFont</font></b><font color="#990000">(</font>g2<font color="#990000">.</font><b><font color="#000000">getFont</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">148: </font>      Dimension d <font color="#990000">=</font> label<font color="#990000">.</font><b><font color="#000000">getPreferredSize</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>      
<font color="#000000">149: </font>      label<font color="#990000">.</font><b><font color="#000000">setBounds</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">,</font> <font color="#993399">0</font><font color="#990000">,</font> d<font color="#990000">.</font>width<font color="#990000">,</font> d<font color="#990000">.</font>height<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">150: </font>
<font color="#000000">151: </font>      Rectangle2D b <font color="#990000">=</font> <b><font color="#000000">getStringBounds</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> p<font color="#990000">,</font> q<font color="#990000">,</font> arrow<font color="#990000">,</font> s<font color="#990000">,</font> center<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">152: </font>      
<font color="#000000">153: </font>      Color oldColor <font color="#990000">=</font> g2<font color="#990000">.</font><b><font color="#000000">getColor</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">154: </font>      g2<font color="#990000">.</font><b><font color="#000000">setColor</font></b><font color="#990000">(</font>g2<font color="#990000">.</font><b><font color="#000000">getBackground</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">155: </font>      g2<font color="#990000">.</font><b><font color="#000000">fill</font></b><font color="#990000">(</font>b<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">156: </font>      g2<font color="#990000">.</font><b><font color="#000000">setColor</font></b><font color="#990000">(</font>oldColor<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">157: </font>      
<font color="#000000">158: </font>      g2<font color="#990000">.</font><b><font color="#000000">translate</font></b><font color="#990000">(</font>b<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> b<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">159: </font>      label<font color="#990000">.</font><b><font color="#000000">paint</font></b><font color="#990000">(</font>g2<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">160: </font>      g2<font color="#990000">.</font><b><font color="#000000">translate</font></b><font color="#990000">(</font><font color="#990000">-</font>b<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> <font color="#990000">-</font>b<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>        
<font color="#000000">161: </font>   <font color="#FF0000">}</font>
<font color="#000000">162: </font>
<font color="#000000">163: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">164: </font><i><font color="#9A1900">      Computes the attachment point for drawing a string.</font></i>
<font color="#000000">165: </font><i><font color="#9A1900">      @param g2 the graphics context</font></i>
<font color="#000000">166: </font><i><font color="#9A1900">      @param p an endpoint of the segment along which to</font></i>
<font color="#000000">167: </font><i><font color="#9A1900">      draw the string</font></i>
<font color="#000000">168: </font><i><font color="#9A1900">      @param q the other endpoint of the segment along which to</font></i>
<font color="#000000">169: </font><i><font color="#9A1900">      draw the string</font></i>
<font color="#000000">170: </font><i><font color="#9A1900">      @param b the bounds of the string to draw</font></i>
<font color="#000000">171: </font><i><font color="#9A1900">      @param center true if the string should be centered</font></i>
<font color="#000000">172: </font><i><font color="#9A1900">      along the segment</font></i>
<font color="#000000">173: </font><i><font color="#9A1900">      @return the point at which to draw the string</font></i>
<font color="#000000">174: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">175: </font>   <b><font color="#0000FF">private</font></b> <b><font color="#0000FF">static</font></b> Point2D <b><font color="#000000">getAttachmentPoint</font></b><font color="#990000">(</font>Graphics2D g2<font color="#990000">,</font> 
<font color="#000000">176: </font>      Point2D p<font color="#990000">,</font> Point2D q<font color="#990000">,</font> ArrowHead arrow<font color="#990000">,</font> Dimension d<font color="#990000">,</font> <font color="#009900">boolean</font> center<font color="#990000">)</font>
<font color="#000000">177: </font>   <font color="#FF0000">{</font>    
<font color="#000000">178: </font>      <b><font color="#0000FF">final</font></b> <font color="#009900">int</font> GAP <font color="#990000">=</font> <font color="#993399">3</font><font color="#990000">;</font>
<font color="#000000">179: </font>      <font color="#009900">double</font> xoff <font color="#990000">=</font> GAP<font color="#990000">;</font>
<font color="#000000">180: </font>      <font color="#009900">double</font> yoff <font color="#990000">=</font> <font color="#990000">-</font>GAP <font color="#990000">-</font> d<font color="#990000">.</font><b><font color="#000000">getHeight</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">181: </font>      Point2D attach <font color="#990000">=</font> q<font color="#990000">;</font>
<font color="#000000">182: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>center<font color="#990000">)</font>
<font color="#000000">183: </font>      <font color="#FF0000">{</font>
<font color="#000000">184: </font>         <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&gt;</font> q<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font> 
<font color="#000000">185: </font>         <font color="#FF0000">{</font> 
<font color="#000000">186: </font>            <b><font color="#0000FF">return</font></b> <b><font color="#000000">getAttachmentPoint</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> q<font color="#990000">,</font> p<font color="#990000">,</font> arrow<font color="#990000">,</font> d<font color="#990000">,</font> center<font color="#990000">)</font><font color="#990000">;</font> 
<font color="#000000">187: </font>         <font color="#FF0000">}</font>
<font color="#000000">188: </font>         attach <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> Point2D<font color="#990000">.</font><b><font color="#000000">Double</font></b><font color="#990000">(</font><font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">+</font> q<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font><font color="#990000">,</font> 
<font color="#000000">189: </font>            <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">+</font> q<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">190: </font>         <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font> q<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font>
<font color="#000000">191: </font>            yoff <font color="#990000">=</font>  <font color="#990000">-</font> GAP <font color="#990000">-</font> d<font color="#990000">.</font><b><font color="#000000">getHeight</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">192: </font>         <b><font color="#0000FF">else</font></b> <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">=</font><font color="#990000">=</font> q<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font>
<font color="#000000">193: </font>            xoff <font color="#990000">=</font> <font color="#990000">-</font>d<font color="#990000">.</font><b><font color="#000000">getWidth</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font><font color="#990000">;</font>
<font color="#000000">194: </font>         <b><font color="#0000FF">else</font></b>
<font color="#000000">195: </font>            yoff <font color="#990000">=</font> GAP<font color="#990000">;</font>
<font color="#000000">196: </font>      <font color="#FF0000">}</font>
<font color="#000000">197: </font>      <b><font color="#0000FF">else</font></b> 
<font color="#000000">198: </font>      <font color="#FF0000">{</font>
<font color="#000000">199: </font>         <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font> q<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font>
<font color="#000000">200: </font>         <font color="#FF0000">{</font>
<font color="#000000">201: </font>            xoff <font color="#990000">=</font> <font color="#990000">-</font>GAP <font color="#990000">-</font> d<font color="#990000">.</font><b><font color="#000000">getWidth</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">202: </font>         <font color="#FF0000">}</font>
<font color="#000000">203: </font>         <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&gt;</font> q<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font>
<font color="#000000">204: </font>         <font color="#FF0000">{</font>
<font color="#000000">205: </font>            yoff <font color="#990000">=</font> GAP<font color="#990000">;</font>
<font color="#000000">206: </font>         <font color="#FF0000">}</font>
<font color="#000000">207: </font>         <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>arrow <font color="#990000">!</font><font color="#990000">=</font> <b><font color="#0000FF">null</font></b><font color="#990000">)</font>
<font color="#000000">208: </font>         <font color="#FF0000">{</font>
<font color="#000000">209: </font>            Rectangle2D arrowBounds <font color="#990000">=</font> arrow<font color="#990000">.</font><b><font color="#000000">getPath</font></b><font color="#990000">(</font>p<font color="#990000">,</font> q<font color="#990000">)</font><font color="#990000">.</font><b><font color="#000000">getBounds2D</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">210: </font>            <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>p<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">&lt;</font> q<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font>
<font color="#000000">211: </font>            <font color="#FF0000">{</font>
<font color="#000000">212: </font>               xoff <font color="#990000">-</font><font color="#990000">=</font> arrowBounds<font color="#990000">.</font><b><font color="#000000">getWidth</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">213: </font>            <font color="#FF0000">}</font>
<font color="#000000">214: </font>            <b><font color="#0000FF">else</font></b>
<font color="#000000">215: </font>            <font color="#FF0000">{</font>
<font color="#000000">216: </font>               xoff <font color="#990000">+</font><font color="#990000">=</font> arrowBounds<font color="#990000">.</font><b><font color="#000000">getWidth</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">217: </font>            <font color="#FF0000">}</font>
<font color="#000000">218: </font>         <font color="#FF0000">}</font>
<font color="#000000">219: </font>      <font color="#FF0000">}</font>
<font color="#000000">220: </font>      <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> Point2D<font color="#990000">.</font><b><font color="#000000">Double</font></b><font color="#990000">(</font>attach<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">+</font> xoff<font color="#990000">,</font> attach<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">+</font> yoff<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">221: </font>   <font color="#FF0000">}</font>
<font color="#000000">222: </font>
<font color="#000000">223: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">224: </font><i><font color="#9A1900">      Computes the extent of a string that is drawn along a line segment.</font></i>
<font color="#000000">225: </font><i><font color="#9A1900">      @param g2 the graphics context</font></i>
<font color="#000000">226: </font><i><font color="#9A1900">      @param p an endpoint of the segment along which to</font></i>
<font color="#000000">227: </font><i><font color="#9A1900">      draw the string</font></i>
<font color="#000000">228: </font><i><font color="#9A1900">      @param q the other endpoint of the segment along which to</font></i>
<font color="#000000">229: </font><i><font color="#9A1900">      draw the string</font></i>
<font color="#000000">230: </font><i><font color="#9A1900">      @param s the string to draw</font></i>
<font color="#000000">231: </font><i><font color="#9A1900">      @param center true if the string should be centered</font></i>
<font color="#000000">232: </font><i><font color="#9A1900">      along the segment</font></i>
<font color="#000000">233: </font><i><font color="#9A1900">      @return the rectangle enclosing the string</font></i>
<font color="#000000">234: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">235: </font>   <b><font color="#0000FF">private</font></b> <b><font color="#0000FF">static</font></b> Rectangle2D <b><font color="#000000">getStringBounds</font></b><font color="#990000">(</font>Graphics2D g2<font color="#990000">,</font> 
<font color="#000000">236: </font>      Point2D p<font color="#990000">,</font> Point2D q<font color="#990000">,</font> ArrowHead arrow<font color="#990000">,</font> String s<font color="#990000">,</font> <font color="#009900">boolean</font> center<font color="#990000">)</font>
<font color="#000000">237: </font>   <font color="#FF0000">{</font>
<font color="#000000">238: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>g2 <font color="#990000">=</font><font color="#990000">=</font> <b><font color="#0000FF">null</font></b><font color="#990000">)</font> <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> Rectangle2D<font color="#990000">.</font><b><font color="#000000">Double</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">239: </font>      <b><font color="#0000FF">if</font></b> <font color="#990000">(</font>s <font color="#990000">=</font><font color="#990000">=</font> <b><font color="#0000FF">null</font></b> <font color="#990000">|</font><font color="#990000">|</font> s<font color="#990000">.</font><b><font color="#000000">equals</font></b><font color="#990000">(</font><font color="#FF0000">""</font><font color="#990000">)</font><font color="#990000">)</font> <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> Rectangle2D<font color="#990000">.</font><b><font color="#000000">Double</font></b><font color="#990000">(</font>q<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> q<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> <font color="#993399">0</font><font color="#990000">,</font> <font color="#993399">0</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">240: </font>      label<font color="#990000">.</font><b><font color="#000000">setText</font></b><font color="#990000">(</font><font color="#FF0000">"&lt;html&gt;"</font> <font color="#990000">+</font> s <font color="#990000">+</font> <font color="#FF0000">"&lt;/html&gt;"</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">241: </font>      label<font color="#990000">.</font><b><font color="#000000">setFont</font></b><font color="#990000">(</font>g2<font color="#990000">.</font><b><font color="#000000">getFont</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">242: </font>      Dimension d <font color="#990000">=</font> label<font color="#990000">.</font><b><font color="#000000">getPreferredSize</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">243: </font>      Point2D a <font color="#990000">=</font> <b><font color="#000000">getAttachmentPoint</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> p<font color="#990000">,</font> q<font color="#990000">,</font> arrow<font color="#990000">,</font> d<font color="#990000">,</font> center<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">244: </font>      <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> Rectangle2D<font color="#990000">.</font><b><font color="#000000">Double</font></b><font color="#990000">(</font>a<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> a<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> d<font color="#990000">.</font><b><font color="#000000">getWidth</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> d<font color="#990000">.</font><b><font color="#000000">getHeight</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">245: </font>   <font color="#FF0000">}</font>
<font color="#000000">246: </font>
<font color="#000000">247: </font>   <b><font color="#0000FF">public</font></b> Rectangle2D <b><font color="#000000">getBounds</font></b><font color="#990000">(</font>Graphics2D g2<font color="#990000">)</font>
<font color="#000000">248: </font>   <font color="#FF0000">{</font>
<font color="#000000">249: </font>      ArrayList points <font color="#990000">=</font> <b><font color="#000000">getPoints</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">250: </font>      Rectangle2D r <font color="#990000">=</font> <b><font color="#0000FF">super</font></b><font color="#990000">.</font><b><font color="#000000">getBounds</font></b><font color="#990000">(</font>g2<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">251: </font>      r<font color="#990000">.</font><b><font color="#000000">add</font></b><font color="#990000">(</font><b><font color="#000000">getStringBounds</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> 
<font color="#000000">252: </font>               <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">)</font><font color="#990000">,</font> 
<font color="#000000">253: </font>               startArrowHead<font color="#990000">,</font> startLabel<font color="#990000">,</font> <b><font color="#0000FF">false</font></b><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">254: </font>      r<font color="#990000">.</font><b><font color="#000000">add</font></b><font color="#990000">(</font><b><font color="#000000">getStringBounds</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> 
<font color="#000000">255: </font>               <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">256: </font>               <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">/</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">,</font> 
<font color="#000000">257: </font>               <b><font color="#0000FF">null</font></b><font color="#990000">,</font> middleLabel<font color="#990000">,</font> <b><font color="#0000FF">true</font></b><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">258: </font>      r<font color="#990000">.</font><b><font color="#000000">add</font></b><font color="#990000">(</font><b><font color="#000000">getStringBounds</font></b><font color="#990000">(</font>g2<font color="#990000">,</font> 
<font color="#000000">259: </font>               <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">260: </font>               <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font> 
<font color="#000000">261: </font>               endArrowHead<font color="#990000">,</font> endLabel<font color="#990000">,</font> <b><font color="#0000FF">false</font></b><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">262: </font>      <b><font color="#0000FF">return</font></b> r<font color="#990000">;</font>
<font color="#000000">263: </font>   <font color="#FF0000">}</font>
<font color="#000000">264: </font>
<font color="#000000">265: </font>   <b><font color="#0000FF">public</font></b> Shape <b><font color="#000000">getShape</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">266: </font>   <font color="#FF0000">{</font>
<font color="#000000">267: </font>      GeneralPath path <font color="#990000">=</font> <b><font color="#000000">getSegmentPath</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">268: </font>      ArrayList points <font color="#990000">=</font> <b><font color="#000000">getPoints</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">269: </font>      path<font color="#990000">.</font><b><font color="#000000">append</font></b><font color="#990000">(</font>startArrowHead<font color="#990000">.</font><b><font color="#000000">getPath</font></b><font color="#990000">(</font><font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">1</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">270: </font>            <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">,</font> <b><font color="#0000FF">false</font></b><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">271: </font>      path<font color="#990000">.</font><b><font color="#000000">append</font></b><font color="#990000">(</font>endArrowHead<font color="#990000">.</font><b><font color="#000000">getPath</font></b><font color="#990000">(</font><font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">2</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">272: </font>            <font color="#990000">(</font>Point2D<font color="#990000">)</font>points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">,</font> <b><font color="#0000FF">false</font></b><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">273: </font>      <b><font color="#0000FF">return</font></b> path<font color="#990000">;</font>
<font color="#000000">274: </font>   <font color="#FF0000">}</font>
<font color="#000000">275: </font>
<font color="#000000">276: </font>   <b><font color="#0000FF">private</font></b> GeneralPath <b><font color="#000000">getSegmentPath</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">277: </font>   <font color="#FF0000">{</font>
<font color="#000000">278: </font>      ArrayList points <font color="#990000">=</font> <b><font color="#000000">getPoints</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">279: </font>      
<font color="#000000">280: </font>      GeneralPath path <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">GeneralPath</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">281: </font>      Point2D p <font color="#990000">=</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font> points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">282: </font>      path<font color="#990000">.</font><b><font color="#000000">moveTo</font></b><font color="#990000">(</font><font color="#990000">(</font><font color="#009900">float</font><font color="#990000">)</font> p<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> <font color="#990000">(</font><font color="#009900">float</font><font color="#990000">)</font> p<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">283: </font>      <b><font color="#0000FF">for</font></b> <font color="#990000">(</font><font color="#009900">int</font> i <font color="#990000">=</font> points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">2</font><font color="#990000">;</font> i <font color="#990000">&gt;</font><font color="#990000">=</font> <font color="#993399">0</font><font color="#990000">;</font> i<font color="#990000">-</font><font color="#990000">-</font><font color="#990000">)</font>
<font color="#000000">284: </font>      <font color="#FF0000">{</font>
<font color="#000000">285: </font>         p <font color="#990000">=</font> <font color="#990000">(</font>Point2D<font color="#990000">)</font> points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>i<font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">286: </font>         path<font color="#990000">.</font><b><font color="#000000">lineTo</font></b><font color="#990000">(</font><font color="#990000">(</font><font color="#009900">float</font><font color="#990000">)</font> p<font color="#990000">.</font><b><font color="#000000">getX</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">,</font> <font color="#990000">(</font><font color="#009900">float</font><font color="#990000">)</font> p<font color="#990000">.</font><b><font color="#000000">getY</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">287: </font>      <font color="#FF0000">}</font>
<font color="#000000">288: </font>      <b><font color="#0000FF">return</font></b> path<font color="#990000">;</font>
<font color="#000000">289: </font>   <font color="#FF0000">}</font>
<font color="#000000">290: </font>   
<font color="#000000">291: </font>   <b><font color="#0000FF">public</font></b> Line2D <b><font color="#000000">getConnectionPoints</font></b><font color="#990000">(</font><font color="#990000">)</font>
<font color="#000000">292: </font>   <font color="#FF0000">{</font>
<font color="#000000">293: </font>      ArrayList points <font color="#990000">=</font> <b><font color="#000000">getPoints</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">294: </font>      <b><font color="#0000FF">return</font></b> <b><font color="#0000FF">new</font></b> Line2D<font color="#990000">.</font><b><font color="#000000">Double</font></b><font color="#990000">(</font><font color="#990000">(</font>Point2D<font color="#990000">)</font> points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font><font color="#993399">0</font><font color="#990000">)</font><font color="#990000">,</font>
<font color="#000000">295: </font>         <font color="#990000">(</font>Point2D<font color="#990000">)</font> points<font color="#990000">.</font><b><font color="#000000">get</font></b><font color="#990000">(</font>points<font color="#990000">.</font><b><font color="#000000">size</font></b><font color="#990000">(</font><font color="#990000">)</font> <font color="#990000">-</font> <font color="#993399">1</font><font color="#990000">)</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">296: </font>   <font color="#FF0000">}</font>
<font color="#000000">297: </font>
<font color="#000000">298: </font>   <i><font color="#9A1900">/**</font></i>
<font color="#000000">299: </font><i><font color="#9A1900">      Gets the corner points of this segmented line edge</font></i>
<font color="#000000">300: </font><i><font color="#9A1900">      @return an array list of Point2D objects, containing</font></i>
<font color="#000000">301: </font><i><font color="#9A1900">      the corner points</font></i>
<font color="#000000">302: </font><i><font color="#9A1900">   */</font></i>
<font color="#000000">303: </font>   <b><font color="#0000FF">public</font></b> <b><font color="#0000FF">abstract</font></b> ArrayList <b><font color="#000000">getPoints</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">304: </font>
<font color="#000000">305: </font>   <b><font color="#0000FF">private</font></b> LineStyle lineStyle<font color="#990000">;</font>
<font color="#000000">306: </font>   <b><font color="#0000FF">private</font></b> ArrowHead startArrowHead<font color="#990000">;</font>
<font color="#000000">307: </font>   <b><font color="#0000FF">private</font></b> ArrowHead endArrowHead<font color="#990000">;</font>
<font color="#000000">308: </font>   <b><font color="#0000FF">private</font></b> String startLabel<font color="#990000">;</font>
<font color="#000000">309: </font>   <b><font color="#0000FF">private</font></b> String middleLabel<font color="#990000">;</font>
<font color="#000000">310: </font>   <b><font color="#0000FF">private</font></b> String endLabel<font color="#990000">;</font>
<font color="#000000">311: </font>   
<font color="#000000">312: </font>   <b><font color="#0000FF">private</font></b> <b><font color="#0000FF">static</font></b> JLabel label <font color="#990000">=</font> <b><font color="#0000FF">new</font></b> <b><font color="#000000">JLabel</font></b><font color="#990000">(</font><font color="#990000">)</font><font color="#990000">;</font>
<font color="#000000">313: </font><font color="#FF0000">}</font>
</tt></pre>
